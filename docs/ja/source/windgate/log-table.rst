========================
WindGateに関するログ一覧
========================

この文書では、WindGateが利用するログの一覧を紹介します。

WindGate本体のログ
------------------

WindGateのプラグイン部分を除く本体が出力するログは以下の通りです。

..  list-table:: WindGate本体のログ
    :widths: 10 5 30
    :header-rows: 1

    * - ログコード
      - レベル
      - 概要
    * - ``WG-BOOT-I00000``
      - 情報
      - WindGate全体を開始
    * - ``WG-BOOT-I00999``
      - 情報
      - WindGate全体を終了
    * - ``WG-BOOT-E00001``
      - エラー
      - WindGate全体の初期化に失敗した
    * - ``WG-BOOT-E00002``
      - エラー
      - WindGate全体のデータ処理に失敗した
    * - ``WG-BOOT-I01000``
      - 情報
      - WindGateのファイナライズ処理を開始
    * - ``WG-BOOT-I01999``
      - 情報
      - WindGateのファイナライズ処理を終了
    * - ``WG-BOOT-E01001``
      - エラー
      - WindGateのファイナライズの初期化に失敗した
    * - ``WG-BOOT-E01002``
      - エラー
      - WindGateのファイナライズ処理に失敗した
    * - ``WG-BOOT-W99001``
      - 警告
      - 指定のプラグインをロードできなかった
    * - ``WG-BOOT-W99002``
      - 警告
      - 実行時引数の直列化形式が正しくない
    * - ``WG-BOOT-W99003``
      - 警告
      - 実行時引数の直列化形式で同一の引数が複数回宣言されている
    * - ``WG-CORE-I00000``
      - 情報
      - WindGateの処理を開始
    * - ``WG-CORE-I00999``
      - 情報
      - WindGateの処理を終了
    * - ``WG-CORE-I00001``
      - 情報
      - セッションを開始している
    * - ``WG-CORE-I00002``
      - 情報
      - リソースをロードしている
    * - ``WG-CORE-I00003``
      - 情報
      - リソースの初期処理を行なっている
    * - ``WG-CORE-I00004``
      - 情報
      - データ転送のためにリソースを準備している
    * - ``WG-CORE-I00005``
      - 情報
      - データ転送を開始している
    * - ``WG-CORE-I00006``
      - 情報
      - リソースの終了処理を行なっている
    * - ``WG-CORE-I00007``
      - 情報
      - セッションを終了している
    * - ``WG-CORE-I00008``
      - 情報
      - WindGateの処理が成功
    * - ``WG-CORE-W00001``
      - 警告
      - セッションの終了に失敗した
    * - ``WG-CORE-W00002``
      - 警告
      - WindGateの処理は割り込みにより中断した
    * - ``WG-CORE-W00003``
      - 警告
      - WindGateの処理は例外により失敗した
    * - ``WG-CORE-W00004``
      - 警告
      - WindGateの処理は別の問題によりキャンセルされた
    * - ``WG-CORE-E00001``
      - エラー
      - リソースの初期化処理に失敗した
    * - ``WG-CORE-E00002``
      - エラー
      - リソースの準備に失敗した
    * - ``WG-CORE-E00003``
      - エラー
      - データ転送に失敗した
    * - ``WG-CORE-E00004``
      - エラー
      - リソースの終了処理に失敗した
    * - ``WG-CORE-I01000``
      - 情報
      - ファイナライズの処理を開始
    * - ``WG-CORE-I01999``
      - 情報
      - ファイナライズの処理を終了
    * - ``WG-CORE-I01001``
      - 情報
      - ファイナライズ対象のセッションを開始している
    * - ``WG-CORE-I01002``
      - 情報
      - 指定したセッションはすでに完了している
    * - ``WG-CORE-I01003``
      - 情報
      - リソースのファイナライズ処理を行なっている
    * - ``WG-CORE-I01004``
      - 情報
      - セッションのファイナライズを行なっている
    * - ``WG-CORE-I01005``
      - 情報
      - ファイナライズの処理が成功
    * - ``WG-CORE-W01001``
      - 警告
      - セッションのファイナライズに失敗した
    * - ``WG-CORE-W01002``
      - 警告
      - リソースのファイナライズに失敗した
    * - ``WG-CORE-W01003``
      - 警告
      - ファイナライズ対象のセッションの終了処理に失敗した
    * - ``WG-CORE-W02001``
      - 警告
      - プロファイルに余計な項目が記載されていた
    * - ``WG-CORE-E02001``
      - エラー
      - プラグインクラスのロードに失敗した
    * - ``WG-CORE-E02002``
      - エラー
      - プラグインクラスのインスタンス化に失敗した
    * - ``WG-CORE-E02003``
      - エラー
      - プロファイルのcoreセクションが間違っていた
    * - ``WG-CORE-E02004``
      - エラー
      - プロファイルのresourceセクションの構造が間違っていた
    * - ``WG-CORE-E02005``
      - エラー
      - プロファイルのキーに利用できない名前が含まれていた
    * - ``WG-CORE-E02006``
      - エラー
      - プロファイルのsessionセクションが間違っていた
    * - ``WG-CORE-E03001``
      - エラー
      - データ転送内容を表すスクリプトが間違っていた
    * - ``WG-CORE-E03002``
      - エラー
      - データ転送に利用するデータモデルクラスをロードできなかった
    * - ``WG-CORE-E04001``
      - エラー
      - データ転送に利用するリソースが定義されていなかった
    * - ``WG-CORE-E04002``
      - エラー
      - プロファイルのresourceセクションの値が間違っていた
    * - ``WG-CORE-I05000``
      - 情報
      - データ転送プロセスを開始
    * - ``WG-CORE-I05999``
      - 情報
      - データ転送プロセスを終了
    * - ``WG-CORE-I05001``
      - 情報
      - データ転送プロセスが成功
    * - ``WG-CORE-E05001``
      - エラー
      - データ転送プロセスの実行に失敗した
    * - ``WG-CORE-E05002``
      - エラー
      - データ転送の入力を終了するのに失敗した
    * - ``WG-CORE-E05003``
      - エラー
      - データ転送の出力を終了するのに失敗した
    * - ``WG-CORE-E05004``
      - エラー
      - データ転送に利用するデータモデルクラスのインスタンス化に失敗した
    * - ``WG-CORE-E99001``
      - エラー
      - プロファイル内に未定義の環境変数が指定された


ローカルファイルシステムを利用したセッションに関するログ
--------------------------------------------------------

プロファイルの ``session`` セクションに ``com.asakusafw.windgate.file.session.FileSessionProvider`` を指定した場合の、対応する部分のログは以下の通りです。

..  list-table:: ローカルファイルシステムを利用したセッションに関するログ
    :widths: 15 5 30
    :header-rows: 1

    * - ログコード
      - レベル
      - 概要

    * - ``WG-FILE_SESSION-E00001``
      - エラー
      - プロファイルのsessionセクション以下に未定義の環境変数が指定された
    * - ``WG-FILE_SESSION-E00002``
      - エラー
      - セッション情報を格納するストレージを初期化出来なかった
    * - ``WG-FILE_SESSION-W01001``
      - 警告
      - セッションファイルが破損している
    * - ``WG-FILE_SESSION-E01001``
      - エラー
      - セッションのアタッチに失敗した
    * - ``WG-FILE_SESSION-W02001``
      - 警告
      - セッションファイルのロックを取得できなかった
    * - ``WG-FILE_SESSION-W02002``
      - 警告
      - セッションファイルを閉じられなかった
    * - ``WG-FILE_SESSION-E02001``
      - エラー
      - セッションファイルの無効化に失敗した
    * - ``WG-FILE_SESSION-E02002``
      - エラー
      - セッションのデタッチに失敗した


再試行可能なデータ転送プロセスに関するログ
------------------------------------------

プロファイルの ``process.basic`` セクションに ``com.asakusafw.windgate.retryable.RetryableProcessProvider`` を指定した場合の、対応する部分のログは以下の通りです。

..  list-table:: 再試行可能なデータ転送プロセスに関するログ
    :widths: 15 5 30
    :header-rows: 1

    * - ログコード
      - レベル
      - 概要

    * - ``WG-RETRY-E00001``
      - エラー
      - プロファイル内のプロセス設定が正しくない
    * - ``WG-RETRY-E00002``
      - エラー
      - 実際に転送を行うプロセスを初期化出来なかった
    * - ``WG-RETRY-I01000``
      - 情報
      - 再試行を行うプロセスを開始
    * - ``WG-RETRY-I01999``
      - 情報
      - 再試行を行うプロセスを終了
    * - ``WG-RETRY-I01001``
      - 情報
      - 再試行を行うプロセスが成功
    * - ``WG-RETRY-W01001``
      - 警告
      - データ転送の試行に失敗したため、次回の試行を行おうとしている
    * - ``WG-RETRY-E01001``
      - エラー
      - データ転送のすべての試行に失敗した
    * - ``WG-RETRY-E01002``
      - エラー
      - データ転送中に割り込み要求が行われたため、すべての試行を中断した

同一環境上のHadoopを利用するリソースに関するログ
------------------------------------------------

プロファイルの ``resource.hadoop`` セクションに ``com.asakusafw.windgate.hadoopfs.HadoopFsProvider`` を指定した場合の、対応する部分のログは以下の通りです。

..  list-table:: 同一環境上のHadoopを利用するリソースに関するログ
    :widths: 15 5 30
    :header-rows: 1

    * - ログコード
      - レベル
      - 概要

    * - ``WG-HADOOP_FS-I00001``
      - 情報
      - (廃止) シーケンスファイルの圧縮に利用する圧縮コーデッククラスの情報
    * - ``WG-HADOOP_FS-W00001``
      - 警告
      - シーケンスファイルの圧縮に利用する圧縮コーデッククラスが指定されていた
    * - ``WG-HADOOP_FS-E00001``
      - エラー
      - プロファイル内のリソースの設定が正しくない
    * - ``WG-HADOOP_FS-E00002``
      - エラー
      - Hadoop File Systemの初期化に失敗した
    * - ``WG-HADOOP_FS-W01001``
      - 警告
      - データ転送に絶対パスが指定された
    * - ``WG-HADOOP_FS-E01001``
      - エラー
      - データ転送の内容が正しくない
    * - ``WG-HADOOP_FS-E01002``
      - エラー
      - データ転送に利用するデータモデルクラスが正しくない
    * - ``WG-HADOOP_FS-W03001``
      - 警告
      - Hadoop File Systemからの入力を閉じるのに失敗した
    * - ``WG-HADOOP_FS-W04001``
      - 警告
      - Hadoop File Systemへの出力を閉じるのに失敗した
    * - ``WG-HADOOP_FS-I09001``
      - 情報
      - 対象のパスを解決している
    * - ``WG-HADOOP_FS-I09002``
      - 情報
      - テンポラリファイルを読み込み用に開いている
    * - ``WG-HADOOP_FS-W09001``
      - 警告
      - テンポラリファイルを閉じられなかった


SSH経由でリモートのHadoopを利用するリソースに関するログ
-------------------------------------------------------

プロファイルの ``resource.hadoop`` セクションに ``com.asakusafw.windgate.hadoopfs.jsch.JschHadoopFsProvider`` を指定した場合の、対応する部分のログは以下の通りです。

..  list-table:: SSH経由でリモートのHadoopを利用するリソースに関するログ
    :widths: 15 5 30
    :header-rows: 1

    * - ログコード
      - レベル
      - 概要

    * - ``WG-HADOOP_FS-I10001``
      - 情報
      - (廃止) シーケンスファイルの圧縮に利用する圧縮コーデッククラスの情報
    * - ``WG-HADOOP_FS-W10001``
      - 警告
      - シーケンスファイルの圧縮に利用する圧縮コーデッククラスが指定されていた
    * - ``WG-HADOOP_FS-E10001``
      - エラー
      - プロファイル内のリソースの設定が正しくない
    * - ``WG-HADOOP_FS-E11001``
      - エラー
      - データ転送の内容が正しくない
    * - ``WG-HADOOP_FS-E11002``
      - エラー
      - データ転送に利用するデータモデルクラスが正しくない
    * - ``WG-HADOOP_FS-W13001``
      - 警告
      - 入力データに関するコネクションのクローズに失敗した
    * - ``WG-HADOOP_FS-E13001``
      - エラー
      - 入力データに関するリモートコマンドの終了に失敗した
    * - ``WG-HADOOP_FS-W14001``
      - 警告
      - 出力データに関するコネクションのクローズに失敗した
    * - ``WG-HADOOP_FS-E14001``
      - エラー
      - 出力データに関するリモートコマンドの終了に失敗した
    * - ``WG-HADOOP_FS-W19001``
      - 警告
      - データ転送プロトコルが正しくない
    * - ``WG-HADOOP_FS-W19002``
      - 警告
      - データ転送プロトコルが始まる前に余計なメッセージが含まれている
    * - ``WG-HADOOP_FS-I20000``
      - 情報
      - remote getコマンドを開始
    * - ``WG-HADOOP_FS-I20999``
      - 情報
      - remote getコマンドを終了
    * - ``WG-HADOOP_FS-I20001``
      - 情報
      - remote getコマンドの通信プロトコルを初期化
    * - ``WG-HADOOP_FS-I20002``
      - 情報
      - remote getコマンドの通信プロトコルを終了
    * - ``WG-HADOOP_FS-I20003``
      - 情報
      - remote getコマンドで転送するファイルパスを解決
    * - ``WG-HADOOP_FS-I20004``
      - 情報
      - remote getコマンドでファイルの転送を開始
    * - ``WG-HADOOP_FS-I20005``
      - 情報
      - remote getコマンドでファイルの転送を終了
    * - ``WG-HADOOP_FS-E20001``
      - エラー
      - remote getコマンドでコマンド起動引数が正しくなかった
    * - ``WG-HADOOP_FS-E20002``
      - エラー
      - remote getコマンドでファイルの転送に失敗した
    * - ``WG-HADOOP_FS-E20003``
      - エラー
      - remote getコマンドでファイルの転送がキャンセルされた
    * - ``WG-HADOOP_FS-I21000``
      - 情報
      - remote putコマンドを開始
    * - ``WG-HADOOP_FS-I21999``
      - 情報
      - remote putコマンドを終了
    * - ``WG-HADOOP_FS-I21001``
      - 情報
      - remote putコマンドの通信プロトコルを初期化
    * - ``WG-HADOOP_FS-I21002``
      - 情報
      - remote putコマンドの通信プロトコルを終了
    * - ``WG-HADOOP_FS-I21003``
      - 情報
      - remote putコマンドでファイルの転送を開始
    * - ``WG-HADOOP_FS-I21004``
      - 情報
      - remote putコマンドでファイルの転送を終了
    * - ``WG-HADOOP_FS-E21001``
      - エラー
      - remote putコマンドでコマンド起動引数が正しくなかった
    * - ``WG-HADOOP_FS-E21002``
      - エラー
      - remote putコマンドでファイルの転送がキャンセルされた
    * - ``WG-HADOOP_FS-I30001``
      - 情報
      - JSchを利用してSSHセッションを開始
    * - ``WG-HADOOP_FS-I30002``
      - 情報
      - JSchを利用してSSHセッションを開始した
    * - ``WG-HADOOP_FS-I30003``
      - 情報
      - JSchを利用してリモートコマンドを起動
    * - ``WG-HADOOP_FS-I30004``
      - 情報
      - JSchを利用してリモートコマンドを起動した
    * - ``WG-HADOOP_FS-W30001``
      - 警告
      - JSchを利用したリモートコマンド起動に、環境変数が指定されようとしたため省略した
    * - ``WG-HADOOP_FS-E30001``
      - エラー
      - JSchを利用したSSHセッションの開始に失敗した
    * - ``WG-HADOOP_FS-E30002``
      - エラー
      - JSchを利用したリモートコマンドの起動に失敗した
    * - ``WG-HADOOP_FS-E30003``
      - エラー
      - JSchを利用したリモートコマンドの終了に失敗した (タイムアウト)


ローカルファイルシステムを利用するリソースに関するログ
------------------------------------------------------

プロファイルの ``resource.local`` セクションに ``com.asakusafw.windgate.stream.file.FileResourceProvider`` を指定した場合の、対応する部分のログは以下の通りです。

..  list-table:: ローカルファイルシステムを利用するリソースに関するログ
    :widths: 15 5 30
    :header-rows: 1

    * - ログコード
      - レベル
      - 概要
    * - ``WG-STREAM-E00001``
      - エラー
      - プロファイル内のリソース設定が正しくない
    * - ``WG-STREAM-E01001``
      - エラー
      - データ転送の内容が正しくない
    * - ``WG-STREAM-E01002``
      - エラー
      - ``DataModelStreamSupport`` オブジェクトの初期化に失敗した
    * - ``WG-STREAM-I03001``
      - 情報
      - 入力ストリームを開いている
    * - ``WG-STREAM-I03002``
      - 情報
      - 入力ストリームを閉じている
    * - ``WG-STREAM-W03001``
      - 警告
      - 入力ストリームを閉じられなかった
    * - ``WG-STREAM-E03001``
      - エラー
      - 入力ストリームを開けなかった
    * - ``WG-STREAM-I04001``
      - 情報
      - 出力ストリームを開いている
    * - ``WG-STREAM-I04002``
      - 情報
      - 出力ストリームを閉じている
    * - ``WG-STREAM-E04001``
      - エラー
      - 出力ストリームを開けなかった
    * - ``WG-STREAM-E04002``
      - エラー
      - 出力ストリームを閉じられなかった

データベースを利用するリソースに関するログ
------------------------------------------
プロファイルの ``resource.jdbc`` セクションに ``com.asakusafw.windgate.jdbc.JdbcResourceProvider`` を指定した場合の、対応する部分のログは以下の通りです。

..  list-table:: データベースを利用するリソースに関するログ
    :widths: 15 5 30
    :header-rows: 1

    * - ログコード
      - レベル
      - 概要

    * - ``WG-JDBC-E00001``
      - エラー
      - プロファイル内のリソース設定が正しくない
    * - ``WG-JDBC-E00002``
      - エラー
      - データベースのコネクションを開けなかった
    * - ``WG-JDBC-W00001``
      - 警告
      - データベースのコネクションを再度開こうとしている
    * - ``WG-JDBC-E01001``
      - エラー
      - データ転送の内容が正しくない
    * - ``WG-JDBC-E01002``
      - エラー
      - ``DataModelJdbcSupport`` オブジェクトの初期化に失敗した
    * - ``WG-JDBC-I02001``
      - 情報
      - データベースのコネクションを開いている
    * - ``WG-JDBC-W02001``
      - 警告
      - データベースのコネクションを閉じられなかった
    * - ``WG-JDBC-I03001``
      - 情報
      - データベースからのデータ取得を開始している
    * - ``WG-JDBC-I03002``
      - 情報
      - データベースからのデータ取得を開始した
    * - ``WG-JDBC-W03001``
      - 警告
      - データを取得するステートメントの破棄に失敗した
    * - ``WG-JDBC-E03001``
      - エラー
      - データベースからのデータ取得に失敗した
    * - ``WG-JDBC-I04001``
      - 情報
      - データベースのテーブルクリアを行なっている
    * - ``WG-JDBC-W04001``
      - 警告
      - データを書き出すステートメントの破棄に失敗した
    * - ``WG-JDBC-E04001``
      - エラー
      - データベースのテーブルクリアに失敗した
    * - ``WG-JDBC-E04002``
      - エラー
      - データを書き出すステートメントの作成に失敗した
    * - ``WG-JDBC-E04003``
      - エラー
      - 書き出すデータの準備に失敗した
    * - ``WG-JDBC-E04004``
      - エラー
      - データの書き出しに失敗した
